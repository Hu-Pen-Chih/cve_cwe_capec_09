<Expansion>Editor’s Note: This clause includes the overview applicable for the study.
Editor’s Note: This clause contains all the key issues identified during the study.
For key issue about enhancements to LCS to support Direct AI/ML based Positioning in TR 23.700-84 , the following aspect will be investigated.
However, vertical federated learning(VFL) between NWDAF and AF has not been studied (e.g. when the NWDAFs and/or AFs are in different domains, locations, regions etc).
As description in IEEE Guide for FL , Sample alignment module, a sample alignment module is mainly used for vertical federated machine learning.
The module identifies the overlapped samples of different data sources and does not disclose sample feature information.
The UE ID privacy 5.3.3 Potential security requirementsEditor’s Note: The terms can be updated based on SA2’s progress.
During this process, the VFL clients and VFL server will exchange intermediate results such as activations and gradients.
The LMF sends an access token request to NRF as specified in clause 13.4.1.
The NRF sends the access token to the LMF, or rejects the request in case of failed authorization, as described in clause 13.4.1.4.
When NWDAF (VFL Server) needs to discovery the available AFs and the appropriated NEF for VFL training, the NWDAF invokes Nnrf_NFDiscovery_Request_request service operation.
It is assumed that NWDAF ID1 and NWDAF ID2 are selected.
The NEF anonymizes NWDAF IDs into multiple temporary NWDAF IDs, and stores the mapping.
The NEF sends Discovery Response message to the AF including the temporary NWDAF IDs.
After successfully checking, the NRF signs token to the NEF, the token The NEF sends VFL request (e.g. sample alignment request) to the NWDAFs.
The request includes NWDAF ID, NEF ID, analytics ID and the token.
The NWDAF(s) sends response for VFL to the AF.6.5.1 IntroductionThe NRF is used as the authorization entity for the participation of VFL procedure.
The NRF then authorizes the VFL service request for the VFL participants involving NWDAF and External AF based on the registered NEF/AF and NWDAF information.
In addition, the FL client includes the authorization information used for VFL.
Editor's Note: The detailed parameters which need to be registered in the NRF are ffs.
The NEF enables this discovery procedure after authenticating and authorizing the AF.Step 3a.
The NEF authorizes the External AF can trigger VFL service request towards NEF.
The authentication and authorization between the NEF and the External AF acting as FL server can be performed as specified inclause 12.
NRF checks whether the NF Service consumer (NEF) is authorized to access the requested service in FL client (NWDAF).
If the authorization succeeds, NRF generates the access token(s) as specified inclause 13.4.1.
The access tokens are generated for the NEF (e.g., NEF as subject).
The access token claims AF ID, AF provider/Vendor ID, Application ID, AF service ID) .g.
Fine-grained authorization can be done locally at the NWDAFs containing MTLF acting as FL client(s).
In case when AF is located outside the MNO, the NEF is used to exchange the messages between the AF the NWDAF.
-1: Authorization mechanism through NRF and NEF for AF outside the PLMNThe NWDAF requests an access token from the NRF.
The NWDAF sends a service request for an AF to join the VFL group through NEF.
The access token request sent to the NRF includes the NEF ID, AF ID and Analytics ID.
In addition, optional parameter includes Vendor ID, VFL Interoperability ID and training UE range.
If the authorization succeeds, NRF generates the access token(s) as specified in clause 13.4.1.
Optionally, the access token includes parameters such as an AF ID, VFL Interoperability ID and a training UE range.
The message contains the AF ID, Analytics ID and access token.
If the access token contains optional parameters, the NEF obtains the Analytics ID contained in the access token.
The NEF sends a request to the AF for joining the VFL group.
Editor’s Note: The optional security parameters, i.e. serving UE range and training UE range are FFS.
Editor’s Note: The validation of the access token at the AF and the clarification on token transmission to the AF is FFS.
After the registration, NF profile of NWDAF is stored in the NRF.
If the AF is authorized to trigger the service, the NEF triggers Nnrf_NFDiscovery_Request to get NWDAF identifiers (e.g., NF instance ID, FQDN of NWDAF).
The request also contains the certificate or CCA (Client Credentials Assertion) of the AF.The NEF sends the received NWDAF identifier(s) to the AF.
The AF sends the federated learning related service request to the NEF.
The request includes the AF identifier (e.g., the FQDN) and NWDAF identifier.
Then the NRF authorizes the request based on the NWDAF's NF profile and local policy.
The NEF sends the federated learning related service request to the target NWDAF.
The request includes the AF identifier (e.g., the FQDN), the NEF identifier, the token, and certificate/CCA of the AF.
The NWDAF shall verify the token as follows:If all the checks are successful, the token is validated.
The NEF authorizes the federated learning-related service via the token of the NWDAF.This solution does not address the NWDAF NF instance ID protection issue.
AF registers its profile to the NRF via the NEF.The NRF authorizes the request based on NF profile of NEF and local policy.
The federated learning related service request includes the AF identifier (e.g., the FQDN) and NWDAF identifier (e.g., the NF instance ID, FQDN) and the token.
The NEF verifies the token and check the service request against the verified token.
The NEF checks if the audience claim of the token matches its own identifier.
The NEF checks if the subject claim of the token matches the subject claim of the certificate of the NWDAF.
The NEF checks that the token has not expired by verifying the expiration time in the token against the current data/time.
The VFL entities (e.g., VFL active Participant, VFL passive Participant, VFL Coordinator) register its supported VFL Interoperability ID(s).
If the AF is also in the VFL group, the VFL Interoperability ID also includes Application Name or AF Identifier(s).2.
VFL Active Participant sends sample alignment request to the VFL Coordinator including the VFL Interoperability ID and VFL members.4.
VFL members return the supported sample ID(s) to the VFL Coordinator.
VFL Sever sends Sample alignment request including its sample ID list 1 to NEF, the sample ID list contain UE ID list (e.g. SUPI, GPSI).
NEF sends Sample alignment request to the VFL clients in the same VFL group.
The NEF determines the common sample ID list 4 based on the common part of all the sample ID list from VFL Server and Clients.
The Vertical Federated Learning procedure is performed between FL server (NWDAF) and FL client (AF) via the NEF.Step 3a,3b.
NWDAF and AFs will do the VFL preparation phase, sample and feature alignment.
The NWDAF as the active participant (or VFL server) triggers the VFL operation with one or more AFs as the passive participant (or VFL client).
The NEF maps the internal UE ID to external UE ID.
The NEF selects the intersection of UE IDs in these responses.
The NEF sends the VFL sample and feature alignment notify to the AF(s), including the external ID and feature profiles.